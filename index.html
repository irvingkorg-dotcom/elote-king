<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Elote King â€“ Snacks</title>
  <meta name="description" content="Elote King Snacks â€“ Elotes, maruchan loca, chicharrÃ³n preparado y mÃ¡s. Â¡Arma tu antojo y ordÃ©nalo por WhatsApp!" />
  <link rel="icon" href="assets/lona_eeloteking.png" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="topbar">
    <div class="wrap">
      <img class="logo" src="assets/logo.png" alt="Elote King Logo" />
      <nav class="nav">
        <a href="#bienvenida">Inicio</a>
        <a href="#menu">MenÃº</a>
        <a href="#arma">Arma tu antojo</a>
        <a href="#contacto">Contacto</a>
      </nav>
      <a class="btn primary" href="#arma">Ordenar</a>
    </div>
  </header>

  <section id="bienvenida" class="hero">
    <div class="wrap hero-inner">
      <h1>Â¡Bienvenido a <span>Elote King</span>! ðŸ‘‘ðŸŒ½</h1>
      <p>El antojo se respeta. Elotes, maruchan loca, chicharrÃ³n preparado y mÃ¡s, con todos tus toppings favoritos.</p>
      <div class="hero-actions">
        <a class="btn primary" href="#menu">Ver MenÃº</a>
        <a class="btn outline" href="#arma">Arma el tuyo</a>
      </div>
    </div>
  </section>

  <section id="menu" class="section">
    <div class="wrap">
      <h2>MenÃº destacado</h2>
      <div class="grid cards">
        <article class="card">
          <img src="assets/elote-en-vaso.jpg" alt="Elote en vaso" />
          <div class="info">
            <h3>Elote en vaso</h3>
            <p>Chico, mediano o grande. Con queso, mayonesa, chile... Â¡a tu gusto!</p>
            <div class="price">$30 / $40 / $60</div>
            <button class="btn small add-menu" data-item='elote_vaso'>Agregar</button>
          </div>
        </article>

        <article class="card">
          <img src="assets/maruchan_loca.jpg" alt="Maruchan Loca" />
          <div class="info">
            <h3>Maruchan loca</h3>
            <p>SÃºper completa y bien hecha.</p>
            <div class="price">$100</div>
            <button class="btn small add-menu" data-item='maruchan_loca'>Agregar</button>
          </div>
        </article>

        <article class="card">
          <img src="assets/choirriado.jpg" alt="Chorriado" />
          <div class="info">
            <h3>Chorriado</h3>
            <p>Hora de un chorriado lleno de sabor.</p>
            <div class="price">$85</div>
            <button class="btn small add-menu" data-item='chorriado'>Agregar</button>
          </div>
        </article>

        <article class="card">
          <img src="assets/maruchan_volcan.jpg" alt="Maruchan VolcÃ¡n" />
          <div class="info">
            <h3>Maruchan volcÃ¡n</h3>
            <p>ExplosiÃ³n de sabor con todo encima.</p>
            <div class="price">$130</div>
            <button class="btn small add-menu" data-item='maruchan_volcan'>Agregar</button>
          </div>
        </article>

        <article class="card">
          <img src="assets/chicharron.jpg" alt="ChicharrÃ³n preparado" />
          <div class="info">
            <h3>ChicharrÃ³n preparado</h3>
            <p>Crujiente, cargado y sabroso.</p>
            <div class="price">$50</div>
            <button class="btn small add-menu" data-item='chicharron'>Agregar</button>
          </div>
        </article>
      </div>
    </div>
  </section>

  <section id="arma" class="section alt">
    <div class="wrap">
      <h2>Arma tu antojo</h2>
      <form id="builder" class="builder">
        <div class="field">
          <label>Producto</label>
          <select name="producto" id="producto">
            <option value="elote_vaso">Elote en vaso</option>
            <option value="maruchan_loca">Maruchan loca</option>
            <option value="maruchan_volcan">Maruchan volcÃ¡n</option>
            <option value="chorriado">Chorriado</option>
            <option value="chicharron">ChicharrÃ³n preparado</option>
          </select>
        </div>

        <div class="field" id="sizeField">
          <label>TamaÃ±o</label>
          <div class="chips">
            <input type="radio" id="sz_chico" name="tam" value="chico" checked>
            <label for="sz_chico">Chico</label>
            <input type="radio" id="sz_med" name="tam" value="mediano">
            <label for="sz_med">Mediano</label>
            <input type="radio" id="sz_gde" name="tam" value="grande">
            <label for="sz_gde">Grande</label>
          </div>
        </div>

        <div class="field">
          <label>Toppings</label>
          <div class="toppings">
            <label><input type="checkbox" value="Mayonesa">Mayonesa</label><label><input type="checkbox" value="Queso">Queso</label><label><input type="checkbox" value="Chile">Chile</label><label><input type="checkbox" value="Mantequilla">Mantequilla</label><label><input type="checkbox" value="Valentina">Valentina</label><label><input type="checkbox" value="Doritos">Doritos</label><label><input type="checkbox" value="Takis">Takis</label><label><input type="checkbox" value="Cueritos">Cueritos</label><label><input type="checkbox" value="LimÃ³n">LimÃ³n</label>
          </div>
        </div>

        <div class="field two">
          <div>
            <label>Â¿Entrega?</label>
            <select id="entrega">
              <option value="para llevar">Para llevar</option>
              <option value="domicilio">Domicilio</option>
            </select>
          </div>
          <div id="direccionField" class="hidden">
            <label>DirecciÃ³n</label>
            <input type="text" id="direccion" placeholder="Calle, nÃºmero, colonia" />
          </div>
        </div>

        <div class="actions">
          <div class="total">
            Total estimado: <strong id="total">$0</strong>
          </div>
          <button type="button" class="btn outline" id="addCart">Agregar al pedido</button>
          <button type="button" class="btn primary" id="waOrder">Pedir por WhatsApp</button>
        </div>
      </form>

      <div class="cart" id="cart"></div>
    </div>
  </section>

  <footer id="contacto" class="footer">
    <div class="wrap">
      <div>
        <h3>Elote King Snacks</h3>
        <p>WhatsApp: <a href="https://wa.me/528997788333" target="_blank">899 77 88 333</a></p>
        <p>Horario: 5:00 pm â€“ 11:00 pm</p>
      </div>
      <p class="copy">Â© 2025 Elote King. Hecho con antojo.</p>
    </div>
  </footer>

  <script>
    const PHONE = "528997788333";

    const BASES = {
      elote_vaso: { name: "Elote en vaso", price: {chico:35, mediano:45, grande:55} },
      maruchan_loca: { name: "Maruchan loca", price: 100 },
      maruchan_volcan: { name: "Maruchan volcÃ¡n", price: 130 },
      chorriado: { name: "Chorriado", price: 85 },
      chicharron: { name: "ChicharrÃ³n preparado", price: 50 }
    };

    const TOPPING_PRICE = 5;

    const productoSel = document.getElementById('producto');
    const sizeField = document.getElementById('sizeField');
    const entregaSel = document.getElementById('entrega');
    const direccionField = document.getElementById('direccionField');
    const direccionInput = document.getElementById('direccion');
    const totalEl = document.getElementById('total');
    const cartEl = document.getElementById('cart');

    let cart = [];

    function updateVisibility() {
      const prod = productoSel.value;
      // tamaÃ±o solo aplica a elote en vaso
      sizeField.style.display = (prod === 'elote_vaso') ? 'block' : 'none';
      direccionField.classList.toggle('hidden', entregaSel.value !== 'domicilio');
      calcTotal();
    }

    function getSelectedSize() {
      const r = document.querySelector('input[name="tam"]:checked');
      return r ? r.value : 'chico';
    }

    function getSelectedToppings() {
      return Array.from(document.querySelectorAll('.toppings input[type="checkbox"]:checked')).map(i=>i.value);
    }

    function calcTotal() {
      const prod = productoSel.value;
      const toppings = getSelectedToppings();
      let base = 0;
      if (prod === 'elote_vaso') {
        const sz = getSelectedSize();
        base = BASES[prod].price[sz];
      } else {
        base = BASES[prod].price;
      }
      const total = base + toppings.length * TOPPING_PRICE;
      totalEl.textContent = `$${total}`;
      return total;
    }

    function buildItem() {
      const prod = productoSel.value;
      const toppings = getSelectedToppings();
      const entrega = entregaSel.value;
      const sz = (prod === 'elote_vaso') ? getSelectedSize() : null;
      const total = calcTotal();
      return {
        prod,
        name: BASES[prod].name,
        size: sz,
        toppings,
        entrega,
        direccion: entrega === 'domicilio' ? direccionInput.value.trim() : '',
        total
      }
    }

    function renderCart() {
      if (cart.length === 0) {
        cartEl.innerHTML = '<p class="muted">Tu pedido estÃ¡ vacÃ­o.</p>';
        return;
      }
      const html = cart.map((it, idx) => `
        <div class="cart-item">
          <div>
            <strong>${it.name}</strong> ${it.total}<br/>
            ${it.size ? ('TamaÃ±o: ' + it.size + ' Â· ') : ''}Toppings: ${it.toppings.join(', ') || 'â€”'}
          </div>
          <button class="link" data-remove="${idx}">Quitar</button>
        </div>
      `).join('');
      cartEl.innerHTML = html;
      cartEl.querySelectorAll('[data-remove]').forEach(btn => btn.onclick = () => {
        const i = parseInt(btn.dataset.remove);
        cart.splice(i,1);
        renderCart();
      });
    }

    document.getElementById('addCart').onclick = () => {
      cart.push(buildItem());
      renderCart();
    };

    document.getElementById('waOrder').onclick = () => {
      const item = buildItem();
      const resumen = `Producto: ${item.name}\n${item.size ? 'TamaÃ±o: ' + item.size + '\n' : ''}Toppings: ${item.toppings.join(', ')||'â€”'}\nEntrega: ${item.entrega}${item.direccion? '\nDirecciÃ³n: ' + item.direccion : ''}\nTotal: $${item.total}`;
      const url = `https://wa.me/${PHONE}?text=${encodeURIComponent('Hola, quiero pedir:\n' + resumen)}`;
      window.open(url, '_blank');
    };

    productoSel.onchange = updateVisibility;
    entregaSel.onchange = updateVisibility;
    document.querySelectorAll('.toppings input, input[name="tam"]').forEach(i => i.onchange = calcTotal);

    document.querySelectorAll('.add-menu').forEach(btn => {
      btn.onclick = () => {
        productoSel.value = btn.dataset.item;
        updateVisibility();
        window.location.hash = '#arma';
      }
    });

    updateVisibility();
  </script>
</body>
</html>
